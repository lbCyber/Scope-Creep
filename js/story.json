{
  "start": {
    "start": {
      "start": {
        "text": "<p>The following is an interactive short story written by Paul Rocca.</p><p>The code is written from scratch, using an interactive narrative API, also written from scratch.</p><p>The hope is, with further development, this can can provide a proof-of-concept of an interactive narrative framework in Javascript, similar to what you may find in more elaborate UIs like Twine.</p><p>If you like the story, please drop me a line at <a href='mailto:paul@lintbox.com'>paul(at)lintbox.com</a>!</p><p>Though the story is intended to be self-contained, it's really only the first part of a larger narrative, so expect developments in the future!</p><p>Be sure to check the options button below to choose your preferred terminal. If you're on a mobile or tablet, tap options once to read a description of the option, and again to confirm.</p><p>Otherwise, I hope you enjoy it!</p>",
        "image": false,
        "choice0": [
          "Begin",
          "Start the story",
          {
            "chapter": "chap1",
            "branch": "branch0",
            "part": "part1"
          }
        ]
      }
    }
  },
  "chap1": {
    "branch0": {
      "part1": {
        "text": "<p>You are a front-end developer.</p><p>For the last several years you've worked in freelance, mostly designing modest templates for personal blogs and local businesses. The more ambitious contracts have been few and far between, and the lack of challenge has already weighed down on your self-esteem for some time. Worries that the monotony of your life would be all there is for you were taking their toll on your mental health.</p><p>That is, until the day your friend Alex sent you an email asking if you'd like to work for her startup company.</p><p>You didn't even ask what it'd pay.</p><p>You said yes.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "next",
          "Anything to get out of freelancing.",
          {
            "part": "part2"
          }
        ]
      },
      "part2": {
        "text": "<p>You and Alex met in university.</p><p>You had quickly caught on that she was a programming genius. Even though you yourself would go on to graduate at the top of your class with an MSIT from the country's leading IT college, conversations with her still felt intimidating and hard to follow. You weren't ever good at hiding it, but she would always laugh and reassure you of your own ability.</p><p>While you were working in freelance, she was still in school working on her doctorate in Computational Theory. It's been at least two years since you last heard from her.</p><p>Contacting you now must mean she finished her doctorate early, which wouldn't surprise you.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "next",
          "Figures.",
          {
            "part": "part3"
          }
        ]
      },
      "part3": {
        "text": "<p>It's been six months now since you accepted Alex's offer for a job.</p><p>It's a typical startup; staffed by only a handful of young geeks crammed into a small office space. You know the other staffers by name, but that's really about it.</p><p>Alex has explained to you a few times now what her company actually does, but it always went a little over your head. She described her work as &quot;drilling peepholes into the Chinese Room.&quot; Your best guess is that she's working on an improved CAPTCHA service; an interface to help easily identify human users from malicious bots. None of it matters, because your only job is to build and expand the company's website, and implement whatever she sends to you. Sometimes it feels like you're no more than a glorified beta tester.</p><p>You're not sure whether the startup will grow or otherwise how long it'll last, but, for now, the pay is good and the workload keeps you busy.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "no complaints here",
          "Plus it's nice not to work from home.",
          {
            "part": "part4"
          }
        ]
      },
      "part4": {
        "text": "<p>You're working alone in the office tonight.</p><p>Alex promised this morning to be on the verge of sending you something big, and you didn't mind putting in a few extra hours. There's a virtually-unlimited supply of coffee and pizza in the breakroom, so you'd be comfortable enough.</p><p>After brewing yourself a cup of caffeine juice, you get yourself situated in front of your computer and boot it up.<span class='caret' aria-hidden>_</span></p> <input type='text' id='name-field' class='name-field' name='name-field' placeholder='Enter your name' required> <label for='name-field' class='hide-option'>Enter your name here</label>",
        "image": false,
        "choice0": [
          "Login",
          "Password: sw0rdf1sh69",
          {
            "part": "part5"
          }
        ]
      },
      "part5": {
        "text": "<p>Immediately after you login, a popup window notifies you that you have one unread message.</p><p>It's from Alex.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "read it",
          "Oh god, three exclamation marks.",
          {
            "part": "part6"
          }
        ]
      },
      "part6": {
        "text": "<p>From: Alex Brennan</p><p>To: %nameclean%@crtech.hy</p><p>Subject: IT'S READY!!!</p><p>></p><p>Hey %firstname%! Thank you for staying in tonight!</p><p>I've attached a packaged file I'd like you to test out for me! It's a big one (429.66MiB), but don't worry! Most of that is documentation and other stuff to run server-side, so it shouldn't slow down anything on your end. Just extract it into the server's root node, and try calling it from a dummy page to test. No content needed, it should populate the page automatically and give you enough to work with.</p><p>I just need you to run it and try to break it. I've run it a quick couple of times already with no problems, but I need to make sure it can survive an extended run without any issues!</p><p>Keep it running, crunch its butt, and see what happens.</p><p>And let me know what you find!</p><p>-A<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "next",
          "The hell does 'crunch its butt' even mean?",
          {
            "part": "part7"
          }
        ]
      },
      "part7": {
        "text": "<p>Typical. She didn't even explain to you what the project is.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "Get to work",
          "Nose to the grindstone, I guess.",
          {
            "chapter": "chap2",
            "part": "part1"
          }
        ]
      }
    }
  },
  "chap2": {
    "branch0": {
      "part1": {
        "text": "<p>At least you know where to start.</p><p>You download the attachment and extract it like she asked. You write a small html file with your own quick personal flourishes and deduce which file to embed.</p><p>There's a small file with the filename &quot;AlexRulzOkay-2.js&quot;. You figure that's the one. A quick check of the contents reveals a short but indecipherable amount of code that seems to call data from the other files you uploaded to the server. With nothing else to do, you save what you have and open up the dummy file.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "let's do this",
          "Stick with naming conventions, Alex. Geez.",
          {
            "part": "part2"
          }
        ]
      },
      "part2": {
        "text": "<p>...Okay, it's blank.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "great start",
          "Kinda expected it to do something.",
          {
            "part": "part3"
          }
        ]
      },
      "part3": {
        "text": "<p>After giving the script a minute or two to run, you're still left looking at a blank screen. Either you did something wrong or the program is a bust.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "keep waiting",
          "We're paid by the hour, so...",
          {
            "branch": "branch1",
            "part": "part4"
          }
        ],
        "choice1": [
          "check your markup",
          "Seems like the logical step.",
          {
            "part": "part4"
          },
          "diligent"
        ]
      },
      "part4": {
        "text": "<p>You triple-check your markup, and find no problems. You do everything from making sure the files are available on the server to comparing MD5 hashes just to be sure the files aren't corrupted. Everything looks good on your end.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "try it again",
          "Don't know what else to do.",
          {
            "part": "part5"
          }
        ]
      },
      "part5": {
        "text": "<p><span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "...",
          "",
          {
            "part": "part6"
          }
        ]
      },
      "part6": {
        "text": "<p>&<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "...?",
          "",
          {
            "part": "part7"
          }
        ]
      },
      "part7": {
        "text": "<p>html<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "um...",
          "That's not right...",
          {
            "part": "part8"
          }
        ]
      },
      "part8": {
        "text": "<p>html</p><p>html</p><p>html</p><p>html</p><p>html</p><p>html</p><p>html</p><p>html</p><p>htmlhtmlhtmlhtmlhtmlhtmlhtml<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "sigh...",
          "Better close the window and start over.",
          {
            "chapter": "chap3",
            "part": "part1"
          }
        ]
      }
    },
    "branch1": {
      "part4": {
        "text": "<p>Nothing's on screen. That could just mean there's a lot of code to process. Could mean it's broken. Either way, waiting one minute didn't help.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "keep waiting",
          "Something's bound to happen",
          {
            "part": "part5"
          }
        ],
        "choice1": [
          "check your markup",
          "Really, I should be doing this",
          {
            "chapter": "chap2",
            "branch": "branch0",
            "part": "part4"
          }
        ]
      },
      "part5": {
        "text": "<p>... nope, nothing.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "wait some more",
          "I mean, the light <em>is</em> blinking...",
          {
            "part": "part6"
          },
          "patient"
        ],
        "choice1": [
          "check your markup already",
          "Seriously. This is the correct choice.",
          {
            "part": "part4"
          }
        ]
      },
      "part6": {
        "text": "<p>...<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "wait some more",
          "...",
          {
            "part": "part6"
          }
        ],
        "choice1": [
          "check your markup already",
          "Okay fine.",
          {
            "branch": "branch0",
            "part": "part4"
          }
        ]
      }
    }
  },
  "chap3": {
    "branch0": {
      "part1": {
        "text": "<p>Seconds turn to minutes, and minutes turn to hours. Nothing on your end seems to be the problem. It just keeps randomly spitting out HTML tags and some weird strings.</p><p>You'd consider it lost and call it a night if you didn't trust Alex to know what she's doing. You figure you'll give it a little bit more time until the caffeine in your system wears off.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "Keep trying",
          "Doesn't feel like that'd be much longer.",
          {
            "part": "part2"
          },
          "persistent"
        ],
        "choice1": [
          "Give up",
          "You're not even sure what it's supposed to do.",
          {
            "branch": "branch1",
            "part": "part2"
          },
          "impatient"
        ]
      },
      "part2": {
        "text": "<p>htmlhtmlhtmlhtmlhtmlhtmlhtmlhtmlhtmlhtmlhtmlhtml</p><p>htmlhtmlhtmlhtmlhtmlhtmlhtmlhtmlhtmlhtmlhtmlhtml</p><p>htmlhtmlhihtmlhtmlhtmlhtml&lt;!doctype='htmlhtmlhtmlhtml'></p><p>html</p><p>htmlhtmlhtmlhtml</p><p><span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "...",
          "...",
          {
            "part": "part3"
          }
        ]
      },
      "part3": {
        "text": "<p>htmlhtmlhtmlhtmlhtmlhtml</p><p>htmlhtmlhtmlhtmlhtmlhtmlhtmlllllllll</p><p>llllllllllllllllll...</p><p>...,...,,,&lt;&lt;&lt;&lt;</p><p>.</p><p>.</p><p>.</p><p><span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "...",
          "What is even happening",
          {
            "part": "part4"
          }
        ]
      },
      "part4": {
        "text": "<p>.</p><p>.</p><p>.</p><p><span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "...",
          "You don't say",
          {
            "part": "part5"
          }
        ]
      },
      "part5": {
        "text": "<p></p><p><span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "okay, enough",
          "It's not gonna get better",
          {
            "part": "part6"
          }
        ]
      },
      "part6": {
        "text": "<p>.</p><p>%nameclean%.</p><p><span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "wait...",
          "",
          {
            "part": "part7"
          }
        ]
      },
      "part7": {
        "text": "<p>&bsol;&bsol;cy-domain@user.%nameclean%</p><p>html.</p><p><span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "What the...",
          "What on Earth is it doing?",
          {
            "part": "part8"
          }
        ]
      },
      "part8": {
        "text": "<p>After that, nothing else seems to happen.</p><p>The script is still running, but it seems to be waiting for something. You're not sure what, though.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "@echo",
          "",
          {
            "part": "part9"
          }
        ],
        "choice1": [
          "</html>",
          "",
          {
            "part": "part9"
          }
        ]
      },
      "part9": {
        "text": "<p>THAT'S ALL FOR NOW! MORE STORY IS COMING VERY SOON.</p><p>THANKS FOR TAKING PART IN THIS PROOF OF CONCEPT!</p><p>IF YOU HAVE ANY THOUGHTS, PLEASE DROP ME A LINE AT <a href='mailto:paul@lintbox.com'>PAUL(AT)LINTBOX.COM</a><span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "Start over",
          "More to come soon!",
          {
            "chapter": "start",
            "branch": "start",
            "part": "start"
          },
          "ERASE"
        ]
      }
    },
    "branch1": {
      "part2": {
        "text": "<p>Rather than continue waiting for nothing to happen, you figure you're better warming up some pizza from the fridge before you head off for the night.</p><p>Hawaiian pizza.</p><span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "Hell yeah",
          "The best flavour",
          {
            "part": "part3"
          }
        ],
        "choice1": [
          "Gross",
          "You have terrible taste in pizza",
          {
            "part": "part4"
          }
        ]
      },
      "part3": {
        "text": "<p>Anyone who thinks pineapple on pizza is bad is probably a cop.</p><p>Or is lying.</p><p>Or both.<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "pizza time",
          "Eat and go home",
          {
            "part": "part3"
          }
        ]
      },
      "part4": {
        "text": "<p>YOU DIED</p><p>CAUSE OF DEATH: PIZZA CRIMES.</p><p>CLICK TO START OVER AND MAYBE DO BETTER NEXT TIME.</p><p>GAME OVER<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "I'm really sorry",
          "Start over",
          {
            "chapter": "start",
            "branch": "start",
            "part": "start"
          },
          "ERASE"
        ]
      },
      "part5": {
        "text": "<p>You warm up the pizza and grab a plate.</p><p>You hear a loud beep and check on the microwave to see if it's done, but the timer is still counting down.</p><p>You look back and see something crazy happening on your computer screen. Something's up<span class='caret' aria-hidden>_</span></p>",
        "image": false,
        "choice0": [
          "check it out",
          "You could've sworn you closed the window",
          {
            "chapter": "chap3",
            "branch": "branch0",
            "part": "part9"
          }
        ]
      }
    }
  }
}